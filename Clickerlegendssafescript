-- Create GUI button
local player = game:GetService("Players").LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "AutoFarmGui"

local toggleButton = Instance.new("TextButton", screenGui)
toggleButton.Size = UDim2.new(0, 100, 0, 40)
toggleButton.Position = UDim2.new(0, 10, 0, 10)
toggleButton.Text = "Start"
toggleButton.BackgroundColor3 = Color3.new(0.2, 0.8, 0.2)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextSize = 24

-- Logic
local running = false
local clickLoop
local rebirthLoop

local function startLoops()
    running = true
    toggleButton.Text = "Stop"
    toggleButton.BackgroundColor3 = Color3.new(0.8, 0.2, 0.2)

    clickLoop = task.spawn(function()
        while running do
            game:GetService("ReplicatedStorage"):WaitForChild("AddClicks"):FireServer()
            task.wait()
        end
    end)

    rebirthLoop = task.spawn(function()
        while running do
            local args = { [1] = 1 }
            game:GetService("ReplicatedStorage"):WaitForChild("Rebirth"):FireServer(unpack(args))
            task.wait(1)
        end
    end)
end

local function stopLoops()
    running = false
    toggleButton.Text = "Start"
    toggleButton.BackgroundColor3 = Color3.new(0.2, 0.8, 0.2)
end

toggleButton.MouseButton1Click:Connect(function()
    if running then
        stopLoops()
    else
        startLoops()
    end
end)
